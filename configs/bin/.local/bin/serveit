#!/usr/bin/env bash

set -euo pipefail

PORT="${1:-8000}"

if hash python3 2>/dev/null; then
  exec python3 -m http.server "$PORT"
fi

if hash ruby 2>/dev/null; then
  exec ruby -run -e httpd . -p "$PORT"
fi

echo "Error: No HTTP server available (need python3 or ruby)" >&2
exit 1
