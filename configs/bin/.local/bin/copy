#!/usr/bin/env bash

set -euo pipefail

if command -v pbcopy &>/dev/null; then
  exec pbcopy
elif command -v wl-copy &>/dev/null; then
  exec wl-copy
elif command -v xclip &>/dev/null; then
  exec xclip -selection clipboard
else
  rm -f /tmp/clipboard &>/dev/null
  if [ $# -eq 0 ]; then
    cat >/tmp/clipboard
  else
    cat "$1" >/tmp/clipboard
  fi
fi
